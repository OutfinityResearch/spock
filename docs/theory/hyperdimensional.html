<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hyperdimensional Computing – Spock AGISystem2</title>
  <link rel="stylesheet" href="../reference/style.css">
  <style>
    .diagram-container {
      background: #fafafa;
      padding: 30px;
      border-radius: 12px;
      margin: 25px 0;
      text-align: center;
    }
    .math-block {
      background: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      font-family: 'Times New Roman', serif;
      font-size: 1.1em;
      text-align: center;
    }
    .highlight-box {
      background: #e8f5e9;
      border-left: 4px solid #4caf50;
      padding: 20px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }
    .warning-box {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
      padding: 20px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }
    .code-example {
      background: #263238;
      color: #aed581;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Consolas', monospace;
      overflow-x: auto;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 25px 0;
    }
    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .stat-card .number {
      font-size: 2.5em;
      color: #1976d2;
      font-weight: bold;
    }
    .stat-card .label {
      color: #666;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>Hyperdimensional Computing</h1>
    <small>
      <a href="../index.html">Home</a> ·
      <a href="index.html">Theory</a> ·
      <a href="hyperdimensional.html">Hyperdimensional</a> ·
      <a href="truth-geometry.html">Truth</a> ·
      <a href="vsa-operations.html">Operations</a>
    </small>
    <small>The mathematical foundation of Spock AGISystem2</small>
  </div>

  <div class="section-intro">
    <p><strong>Core Question:</strong> How can you represent millions of distinct concepts without a central registry or coordination? The answer lies in the remarkable properties of high-dimensional vector spaces.</p>
  </div>

  <h2>The Problem: Concept Collision</h2>
  <p>In traditional systems, representing concepts requires either:</p>
  <ul>
    <li><strong>Explicit IDs:</strong> A database assigning unique numbers (requires coordination)</li>
    <li><strong>Hash functions:</strong> Deterministic but risk collisions</li>
    <li><strong>Ontologies:</strong> Pre-defined hierarchies (brittle, incomplete)</li>
  </ul>

  <div class="warning-box">
    <strong>The Challenge:</strong> How do you create a new concept "quantum-entangled-cat-paradox" without checking if it already exists somewhere?
  </div>

  <h2>The Solution: Random Vectors in High Dimensions</h2>

  <div class="diagram-container">
    <svg width="700" height="350" viewBox="0 0 700 350">
      <!-- Title -->
      <text x="350" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#1976d2">The Blessing of Dimensionality</text>

      <!-- 2D section -->
      <g transform="translate(120, 180)">
        <text x="0" y="-110" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">2 Dimensions</text>

        <!-- Circle -->
        <circle cx="0" cy="0" r="80" fill="none" stroke="#e0e0e0" stroke-width="2"/>

        <!-- Vectors with collision -->
        <line x1="0" y1="0" x2="70" y2="-40" stroke="#e53935" stroke-width="3"/>
        <line x1="0" y1="0" x2="65" y2="-48" stroke="#1976d2" stroke-width="3"/>

        <circle cx="70" cy="-40" r="6" fill="#e53935"/>
        <circle cx="65" cy="-48" r="6" fill="#1976d2"/>

        <text x="85" y="-35" font-size="11" fill="#e53935">Cat</text>
        <text x="80" y="-55" font-size="11" fill="#1976d2">Dog</text>

        <!-- Collision indicator -->
        <path d="M 60,-30 L 75,-45" stroke="#ff9800" stroke-width="2" stroke-dasharray="3,3"/>
        <text x="0" y="110" text-anchor="middle" font-size="12" fill="#e53935">⚠️ Similar concepts collide!</text>
      </g>

      <!-- Arrow -->
      <g transform="translate(280, 180)">
        <line x1="0" y1="0" x2="120" y2="0" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
        <text x="60" y="-15" text-anchor="middle" font-size="12" fill="#666">Increase</text>
        <text x="60" y="0" text-anchor="middle" font-size="12" fill="#666">dimensions</text>
      </g>

      <!-- 512D section -->
      <g transform="translate(530, 180)">
        <text x="0" y="-110" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">512 Dimensions</text>

        <!-- Circle -->
        <circle cx="0" cy="0" r="80" fill="none" stroke="#e0e0e0" stroke-width="2"/>

        <!-- Many well-separated vectors -->
        <line x1="0" y1="0" x2="75" y2="-25" stroke="#e53935" stroke-width="2"/>
        <line x1="0" y1="0" x2="-20" y2="77" stroke="#1976d2" stroke-width="2"/>
        <line x1="0" y1="0" x2="-70" y2="-38" stroke="#4caf50" stroke-width="2"/>
        <line x1="0" y1="0" x2="45" y2="-65" stroke="#9c27b0" stroke-width="2"/>
        <line x1="0" y1="0" x2="-65" y2="45" stroke="#ff9800" stroke-width="2"/>
        <line x1="0" y1="0" x2="30" y2="73" stroke="#00bcd4" stroke-width="2"/>
        <line x1="0" y1="0" x2="78" y2="15" stroke="#795548" stroke-width="2"/>
        <line x1="0" y1="0" x2="-78" y2="10" stroke="#607d8b" stroke-width="2"/>

        <circle cx="75" cy="-25" r="5" fill="#e53935"/>
        <circle cx="-20" cy="77" r="5" fill="#1976d2"/>
        <circle cx="-70" cy="-38" r="5" fill="#4caf50"/>
        <circle cx="45" cy="-65" r="5" fill="#9c27b0"/>
        <circle cx="-65" cy="45" r="5" fill="#ff9800"/>
        <circle cx="30" cy="73" r="5" fill="#00bcd4"/>
        <circle cx="78" cy="15" r="5" fill="#795548"/>
        <circle cx="-78" cy="10" r="5" fill="#607d8b"/>

        <text x="0" y="110" text-anchor="middle" font-size="12" fill="#4caf50">✓ All vectors nearly orthogonal!</text>
      </g>

      <!-- Arrow marker -->
      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
        </marker>
      </defs>
    </svg>
  </div>

  <h2>The Mathematics</h2>

  <h3>Expected Dot Product</h3>
  <div class="math-block">
    If <strong>v₁</strong>, <strong>v₂</strong> are random vectors in ℝ<sup>d</sup> with components from N(0, 1/d), then:<br><br>
    <strong>E[⟨v₁, v₂⟩] = 0</strong> &nbsp;&nbsp;&nbsp; <strong>Var[⟨v₁, v₂⟩] = 1/d</strong>
  </div>

  <h3>What This Means</h3>
  <div class="stats-grid">
    <div class="stat-card">
      <div class="number">0.044</div>
      <div class="label">Standard deviation of dot product<br>(d = 512)</div>
    </div>
    <div class="stat-card">
      <div class="number">&lt;0.003%</div>
      <div class="label">Probability of correlation > 0.2</div>
    </div>
    <div class="stat-card">
      <div class="number">~90°</div>
      <div class="label">Expected angle between<br>random vectors</div>
    </div>
  </div>

  <div class="highlight-box">
    <strong>Key Insight:</strong> In 512 dimensions, two randomly generated vectors are almost certainly orthogonal. You can create millions of concepts by just generating random vectors—no coordination needed, no collisions possible.
  </div>

  <h2>Concentration of Measure</h2>
  <p>Another remarkable property: in high dimensions, almost all the "volume" of a hypersphere is concentrated in a thin shell near the surface.</p>

  <div class="diagram-container">
    <svg width="600" height="250" viewBox="0 0 600 250">
      <text x="300" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#1976d2">Volume Distribution in Hyperspheres</text>

      <!-- 2D circle -->
      <g transform="translate(150, 140)">
        <text x="0" y="-85" text-anchor="middle" font-size="13" fill="#333">2D (Circle)</text>
        <circle cx="0" cy="0" r="70" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
        <circle cx="0" cy="0" r="50" fill="#e3f2fd" stroke="#90caf9" stroke-width="1"/>
        <circle cx="0" cy="0" r="30" fill="#fafafa" stroke="#e0e0e0" stroke-width="1"/>
        <text x="0" y="95" text-anchor="middle" font-size="11" fill="#666">Volume spread throughout</text>
      </g>

      <!-- 512D hypersphere -->
      <g transform="translate(450, 140)">
        <text x="0" y="-85" text-anchor="middle" font-size="13" fill="#333">512D (Hypersphere)</text>
        <circle cx="0" cy="0" r="70" fill="#1976d2" stroke="#0d47a1" stroke-width="2"/>
        <circle cx="0" cy="0" r="60" fill="#fafafa" stroke="none"/>
        <text x="0" y="5" text-anchor="middle" font-size="24" fill="#ccc">≈ empty</text>
        <text x="0" y="95" text-anchor="middle" font-size="11" fill="#666">99.9% of volume in thin shell</text>
      </g>

      <!-- Annotation -->
      <text x="300" y="230" text-anchor="middle" font-size="12" fill="#1976d2">
        This means normalized random vectors all have nearly the same length!
      </text>
    </svg>
  </div>

  <h2>Practical Implications for Spock</h2>

  <h3>1. Concept Generation</h3>
  <div class="code-example">
<span style="color:#90caf9">// Generate a new concept - guaranteed unique</span>
const catConcept = vectorSpace.createRandomVector(512);
const dogConcept = vectorSpace.createRandomVector(512);

<span style="color:#90caf9">// They're almost certainly orthogonal</span>
const similarity = vectorSpace.cosineSimilarity(catConcept, dogConcept);
<span style="color:#90caf9">// → approximately 0 (±0.044)</span>
  </div>

  <h3>2. Robustness to Noise</h3>
  <p>Information is distributed across all 512 dimensions. Noise on a few dimensions doesn't destroy the signal:</p>
  <div class="code-example">
<span style="color:#90caf9">// Original vector</span>
const original = [0.1, -0.3, 0.2, 0.4, ...];  <span style="color:#90caf9">// 512 components</span>

<span style="color:#90caf9">// Add 5% noise to each component</span>
const noisy = original.map(x => x + (Math.random() - 0.5) * 0.1);

<span style="color:#90caf9">// Still highly similar!</span>
cosineSimilarity(original, noisy);  <span style="color:#90caf9">// → ~0.99</span>
  </div>

  <h3>3. Gaussian vs Bipolar Generation</h3>
  <table class="matrix-table">
    <tr>
      <th>Method</th>
      <th>Distribution</th>
      <th>Use Case</th>
    </tr>
    <tr>
      <td>Gaussian</td>
      <td>N(0, 1/√d) per component</td>
      <td>Dense representations, smooth similarity</td>
    </tr>
    <tr>
      <td>Bipolar</td>
      <td>+1 or -1 per component</td>
      <td>Classic VSA, efficient hardware</td>
    </tr>
  </table>

  <p>Spock uses Gaussian by default but supports both via configuration:</p>
  <div class="code-example">
<span style="color:#90caf9">// In config</span>
{ vectorGeneration: 'gaussian' }  <span style="color:#90caf9">// or 'bipolar'</span>
  </div>

  <h2>Why 512 Dimensions?</h2>
  <ul>
    <li><strong>Enough capacity:</strong> Can store ~log₂(512) ≈ 9 superimposed items reliably</li>
    <li><strong>Low collision probability:</strong> P(|corr| > 0.1) < 0.05%</li>
    <li><strong>Efficient:</strong> 512 × 4 bytes = 2KB per vector</li>
    <li><strong>Standard:</strong> Powers of 2 align with CPU/GPU architectures</li>
  </ul>

  <div class="highlight-box">
    Higher dimensions (1024, 2048) increase capacity but also memory cost. 512 is the sweet spot for most reasoning tasks.
  </div>

  <h2>Connection to Neural Networks</h2>
  <p>Embedding layers in neural networks (Word2Vec, BERT) produce similar high-dimensional vectors. Spock's approach differs:</p>
  <table class="matrix-table">
    <tr>
      <th>Aspect</th>
      <th>Neural Embeddings</th>
      <th>Spock Hypervectors</th>
    </tr>
    <tr>
      <td>Generation</td>
      <td>Learned from data</td>
      <td>Random (instant)</td>
    </tr>
    <tr>
      <td>Similarity</td>
      <td>Semantic (from training)</td>
      <td>Initially orthogonal, structure added explicitly</td>
    </tr>
    <tr>
      <td>Operations</td>
      <td>Lookup only</td>
      <td>Add, Bind, Negate, etc.</td>
    </tr>
    <tr>
      <td>Explainability</td>
      <td>Opaque</td>
      <td>Full DSL trace</td>
    </tr>
  </table>

  <h2>Key Takeaways</h2>
  <ol>
    <li><strong>Random = Unique:</strong> In high dimensions, random vectors don't collide</li>
    <li><strong>Distributed = Robust:</strong> Information spread across dimensions survives noise</li>
    <li><strong>Orthogonal = Independent:</strong> Unrelated concepts don't interfere</li>
    <li><strong>Geometric = Computable:</strong> Similarity is just a dot product</li>
  </ol>

  <div class="footer-nav">
    <p>
      <a href="index.html">← Back to Theory Index</a> ·
      <strong>Next:</strong> <a href="truth-geometry.html">The Geometry of Truth →</a>
    </p>
  </div>
  </div>
</body>
</html>
