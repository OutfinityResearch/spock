<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Vector Symbolic Operations – Spock AGISystem2</title>
  <link rel="stylesheet" href="../reference/style.css">
  <style>
    .diagram-container {
      background: #fafafa;
      padding: 30px;
      border-radius: 12px;
      margin: 25px 0;
      text-align: center;
    }
    .op-card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .op-card h3 {
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .op-card .op-symbol {
      background: #1976d2;
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
    }
    .op-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin: 15px 0;
    }
    .op-property {
      background: #f5f5f5;
      padding: 12px;
      border-radius: 6px;
    }
    .op-property strong {
      color: #1976d2;
    }
    .code-block {
      background: #263238;
      color: #aed581;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Consolas', monospace;
      margin: 15px 0;
      overflow-x: auto;
    }
    .semantic-note {
      background: #e8f5e9;
      border-left: 4px solid #4caf50;
      padding: 15px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
    }
    .use-case {
      background: #fff8e1;
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>Vector Symbolic Operations</h1>
    <small>
      <a href="../index.html">Home</a> ·
      <a href="index.html">Theory</a> ·
      <a href="hyperdimensional.html">Hyperdimensional</a> ·
      <a href="truth-geometry.html">Truth</a> ·
      <a href="vsa-operations.html">Operations</a>
    </small>
    <small>The three fundamental operations that build everything</small>
  </div>

  <div class="section-intro">
    <p>Spock AGISystem2 is built on <strong>Vector Symbolic Architectures (VSA)</strong> — a framework where complex knowledge structures are constructed from just three primitive operations: <strong>Add</strong>, <strong>Bind</strong>, and <strong>Negate</strong>.</p>
  </div>

  <h2>The Three Pillars</h2>

  <div class="diagram-container">
    <svg width="700" height="200" viewBox="0 0 700 200">
      <text x="350" y="25" text-anchor="middle" font-size="18" font-weight="bold" fill="#1976d2">The VSA Trinity</text>

      <!-- ADD -->
      <g transform="translate(120, 110)">
        <circle cx="0" cy="0" r="55" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
        <text x="0" y="-10" text-anchor="middle" font-size="28" font-weight="bold" fill="#1976d2">+</text>
        <text x="0" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">ADD</text>
        <text x="0" y="80" text-anchor="middle" font-size="12" fill="#666">Superposition</text>
        <text x="0" y="95" text-anchor="middle" font-size="11" fill="#999">"A and B together"</text>
      </g>

      <!-- BIND -->
      <g transform="translate(350, 110)">
        <circle cx="0" cy="0" r="55" fill="#e8f5e9" stroke="#4caf50" stroke-width="3"/>
        <text x="0" y="-10" text-anchor="middle" font-size="28" font-weight="bold" fill="#4caf50">⊙</text>
        <text x="0" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">BIND</text>
        <text x="0" y="80" text-anchor="middle" font-size="12" fill="#666">Association</text>
        <text x="0" y="95" text-anchor="middle" font-size="11" fill="#999">"A relates to B"</text>
      </g>

      <!-- NEGATE -->
      <g transform="translate(580, 110)">
        <circle cx="0" cy="0" r="55" fill="#ffebee" stroke="#e53935" stroke-width="3"/>
        <text x="0" y="-10" text-anchor="middle" font-size="28" font-weight="bold" fill="#e53935">−</text>
        <text x="0" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">NEGATE</text>
        <text x="0" y="80" text-anchor="middle" font-size="12" fill="#666">Opposition</text>
        <text x="0" y="95" text-anchor="middle" font-size="11" fill="#999">"Not A"</text>
      </g>
    </svg>
  </div>

  <!-- ADD OPERATION -->
  <div class="op-card">
    <h3>
      <span class="op-symbol">+</span>
      Add (Superposition / Bundling)
    </h3>
    <p>Element-wise addition of two vectors. Creates a <strong>blend</strong> that is similar to both inputs.</p>

    <div class="op-grid">
      <div class="op-property">
        <strong>Mathematical:</strong> result[i] = a[i] + b[i]
      </div>
      <div class="op-property">
        <strong>Semantic:</strong> "Contains both A and B"
      </div>
      <div class="op-property">
        <strong>Commutative:</strong> Add(A, B) = Add(B, A)
      </div>
      <div class="op-property">
        <strong>Associative:</strong> Add(Add(A,B), C) = Add(A, Add(B,C))
      </div>
    </div>

    <div class="diagram-container">
      <svg width="500" height="180" viewBox="0 0 500 180">
        <g transform="translate(100, 100)">
          <line x1="0" y1="0" x2="50" y2="-40" stroke="#1976d2" stroke-width="3"/>
          <circle cx="50" cy="-40" r="5" fill="#1976d2"/>
          <text x="60" y="-35" font-size="12" fill="#1976d2">A</text>
        </g>

        <g transform="translate(150, 100)">
          <text x="0" y="5" font-size="20" fill="#666">+</text>
        </g>

        <g transform="translate(200, 100)">
          <line x1="0" y1="0" x2="30" y2="-50" stroke="#4caf50" stroke-width="3"/>
          <circle cx="30" cy="-50" r="5" fill="#4caf50"/>
          <text x="40" y="-45" font-size="12" fill="#4caf50">B</text>
        </g>

        <g transform="translate(260, 100)">
          <text x="0" y="5" font-size="20" fill="#666">=</text>
        </g>

        <g transform="translate(320, 100)">
          <!-- Combined vector (sum of A and B directions) -->
          <line x1="0" y1="0" x2="50" y2="-40" stroke="#1976d2" stroke-width="2" stroke-dasharray="5,5"/>
          <line x1="0" y1="0" x2="30" y2="-50" stroke="#4caf50" stroke-width="2" stroke-dasharray="5,5"/>
          <line x1="0" y1="0" x2="80" y2="-90" stroke="#9c27b0" stroke-width="4"/>
          <circle cx="80" cy="-90" r="6" fill="#9c27b0"/>
          <text x="90" y="-85" font-size="12" fill="#9c27b0">A+B</text>
        </g>

        <text x="250" y="160" text-anchor="middle" font-size="11" fill="#666">Result is similar to BOTH inputs</text>
      </svg>
    </div>

    <div class="use-case">
      <strong>Use Case:</strong> Building sets, accumulating evidence, creating prototypes
      <div class="code-block">
@mammals Dog Add Cat Add Horse
<span style="color:#90caf9">// mammals is similar to all three concepts</span>
      </div>
    </div>
  </div>

  <!-- BIND OPERATION -->
  <div class="op-card">
    <h3>
      <span class="op-symbol" style="background:#4caf50">⊙</span>
      Bind (Association / Hadamard Product)
    </h3>
    <p>Element-wise multiplication. Creates a result that is <strong>dissimilar</strong> to both inputs but encodes their relationship.</p>

    <div class="op-grid">
      <div class="op-property">
        <strong>Mathematical:</strong> result[i] = a[i] × b[i]
      </div>
      <div class="op-property">
        <strong>Semantic:</strong> "The relationship between A and B"
      </div>
      <div class="op-property">
        <strong>Commutative:</strong> Bind(A, B) = Bind(B, A)
      </div>
      <div class="op-property">
        <strong>Self-inverse:</strong> Bind(Bind(A, B), B) ≈ A
      </div>
    </div>

    <div class="diagram-container">
      <svg width="550" height="200" viewBox="0 0 550 200">
        <g transform="translate(80, 110)">
          <circle cx="0" cy="0" r="30" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
          <text x="0" y="5" text-anchor="middle" font-size="14" font-weight="bold" fill="#1976d2">A</text>
          <text x="0" y="50" text-anchor="middle" font-size="10" fill="#666">(Role)</text>
        </g>

        <g transform="translate(150, 110)">
          <text x="0" y="5" font-size="20" fill="#4caf50">⊙</text>
        </g>

        <g transform="translate(220, 110)">
          <circle cx="0" cy="0" r="30" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
          <text x="0" y="5" text-anchor="middle" font-size="14" font-weight="bold" fill="#4caf50">B</text>
          <text x="0" y="50" text-anchor="middle" font-size="10" fill="#666">(Filler)</text>
        </g>

        <g transform="translate(290, 110)">
          <text x="0" y="5" font-size="20" fill="#666">=</text>
        </g>

        <g transform="translate(380, 110)">
          <circle cx="0" cy="0" r="35" fill="#f3e5f5" stroke="#9c27b0" stroke-width="3"/>
          <text x="0" y="5" text-anchor="middle" font-size="14" font-weight="bold" fill="#9c27b0">A⊙B</text>
          <text x="0" y="55" text-anchor="middle" font-size="10" fill="#666">(Dissimilar to both!)</text>
        </g>

        <text x="275" y="180" text-anchor="middle" font-size="11" fill="#666">Binding creates a NEW vector that encodes the pairing</text>
      </svg>
    </div>

    <div class="semantic-note">
      <strong>Key Property:</strong> You can "unbind" to recover the original:
      <div class="code-block">
Bind(Socrates, Human) = fact
Bind(fact, Human) ≈ Socrates  <span style="color:#90caf9">// Unbinding!</span>
      </div>
    </div>

    <div class="use-case">
      <strong>Use Case:</strong> Role-filler bindings, relationships, predicate encoding
      <div class="code-block">
@owns John Bind Car
<span style="color:#90caf9">// Creates a unique vector representing "John owns Car"</span>

@query Bind Car  <span style="color:#90caf9">// "Who owns Car?"</span>
<span style="color:#90caf9">// Result will be similar to John</span>
      </div>
    </div>
  </div>

  <!-- NEGATE OPERATION -->
  <div class="op-card">
    <h3>
      <span class="op-symbol" style="background:#e53935">−</span>
      Negate (Logical Opposition)
    </h3>
    <p>Element-wise sign flip. Creates the <strong>opposite</strong> direction in conceptual space.</p>

    <div class="op-grid">
      <div class="op-property">
        <strong>Mathematical:</strong> result[i] = -a[i]
      </div>
      <div class="op-property">
        <strong>Semantic:</strong> "The opposite of A"
      </div>
      <div class="op-property">
        <strong>Involutory:</strong> Negate(Negate(A)) = A
      </div>
      <div class="op-property">
        <strong>Cancellation:</strong> Add(A, Negate(A)) = Zero
      </div>
    </div>

    <div class="diagram-container">
      <svg width="400" height="200" viewBox="0 0 400 200">
        <g transform="translate(200, 110)">
          <!-- Axis -->
          <line x1="-150" y1="0" x2="150" y2="0" stroke="#ddd" stroke-width="1"/>
          <line x1="0" y1="70" x2="0" y2="-70" stroke="#ddd" stroke-width="1"/>

          <!-- Original vector -->
          <line x1="0" y1="0" x2="100" y2="-50" stroke="#1976d2" stroke-width="3"/>
          <circle cx="100" cy="-50" r="6" fill="#1976d2"/>
          <text x="115" y="-45" font-size="12" fill="#1976d2">A</text>

          <!-- Negated vector -->
          <line x1="0" y1="0" x2="-100" y2="50" stroke="#e53935" stroke-width="3"/>
          <circle cx="-100" cy="50" r="6" fill="#e53935"/>
          <text x="-115" y="55" font-size="12" fill="#e53935">-A</text>

          <!-- Angle indicator -->
          <path d="M 40,-20 A 45,45 0 1,0 -40,20" fill="none" stroke="#9c27b0" stroke-width="2"/>
          <text x="55" y="30" font-size="11" fill="#9c27b0">180°</text>
        </g>

        <text x="200" y="185" text-anchor="middle" font-size="11" fill="#666">Negate points in the exact opposite direction</text>
      </svg>
    </div>

    <div class="use-case">
      <strong>Use Case:</strong> Logical NOT, contradiction, removal from sets
      <div class="code-block">
@notDog Dog Negate _
<span style="color:#90caf9">// notDog is maximally dissimilar to Dog</span>

@mammals Dog Add Cat Add Horse
@notCats mammals Add (Cat Negate _)
<span style="color:#90caf9">// Removes Cat from the set</span>
      </div>
    </div>
  </div>

  <h2>Derived Operations</h2>

  <p>From these three primitives, Spock builds additional operations:</p>

  <table class="matrix-table">
    <tr>
      <th>Operation</th>
      <th>Implementation</th>
      <th>Semantic</th>
    </tr>
    <tr>
      <td><strong>Move</strong></td>
      <td>Add(state, delta)</td>
      <td>State transition</td>
    </tr>
    <tr>
      <td><strong>Modulate</strong></td>
      <td>Scale by scalar OR Hadamard with vector</td>
      <td>Attention gating</td>
    </tr>
    <tr>
      <td><strong>Distance</strong></td>
      <td>Cosine similarity</td>
      <td>Semantic similarity</td>
    </tr>
    <tr>
      <td><strong>Normalise</strong></td>
      <td>v / ‖v‖</td>
      <td>Project to unit sphere</td>
    </tr>
    <tr>
      <td><strong>Identity</strong></td>
      <td>clone(v)</td>
      <td>Pass-through</td>
    </tr>
  </table>

  <h2>Composition Example: Encoding a Fact</h2>

  <p>Let's encode "John loves Mary":</p>

  <div class="diagram-container">
    <svg width="650" height="280" viewBox="0 0 650 280">
      <text x="325" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#1976d2">Encoding: "John loves Mary"</text>

      <!-- Step 1 -->
      <g transform="translate(100, 80)">
        <rect x="-60" y="-25" width="120" height="50" fill="#e3f2fd" stroke="#1976d2" rx="5"/>
        <text x="0" y="5" text-anchor="middle" font-size="12" fill="#333">John ⊙ AGENT</text>
        <text x="0" y="45" text-anchor="middle" font-size="10" fill="#666">"John is the agent"</text>
      </g>

      <!-- Plus -->
      <text x="190" y="85" font-size="24" fill="#666">+</text>

      <!-- Step 2 -->
      <g transform="translate(280, 80)">
        <rect x="-60" y="-25" width="120" height="50" fill="#e8f5e9" stroke="#4caf50" rx="5"/>
        <text x="0" y="5" text-anchor="middle" font-size="12" fill="#333">loves ⊙ VERB</text>
        <text x="0" y="45" text-anchor="middle" font-size="10" fill="#666">"loves is the verb"</text>
      </g>

      <!-- Plus -->
      <text x="370" y="85" font-size="24" fill="#666">+</text>

      <!-- Step 3 -->
      <g transform="translate(460, 80)">
        <rect x="-60" y="-25" width="120" height="50" fill="#fff3e0" stroke="#ff9800" rx="5"/>
        <text x="0" y="5" text-anchor="middle" font-size="12" fill="#333">Mary ⊙ PATIENT</text>
        <text x="0" y="45" text-anchor="middle" font-size="10" fill="#666">"Mary is the patient"</text>
      </g>

      <!-- Arrow down -->
      <line x1="325" y1="130" x2="325" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrowDown)"/>

      <!-- Result -->
      <g transform="translate(325, 200)">
        <rect x="-120" y="-30" width="240" height="60" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="8"/>
        <text x="0" y="0" text-anchor="middle" font-size="14" font-weight="bold" fill="#9c27b0">FACT</text>
        <text x="0" y="20" text-anchor="middle" font-size="11" fill="#666">"John loves Mary" as single vector</text>
      </g>

      <!-- Query example -->
      <g transform="translate(325, 260)">
        <text x="0" y="0" text-anchor="middle" font-size="11" fill="#1976d2">Query: FACT ⊙ AGENT → similar to John!</text>
      </g>

      <defs>
        <marker id="arrowDown" markerWidth="10" markerHeight="7" refX="5" refY="0" orient="auto">
          <polygon points="0 0, 10 0, 5 7" fill="#333"/>
        </marker>
      </defs>
    </svg>
  </div>

  <h2>The Power of Composition</h2>

  <div class="semantic-note">
    <strong>With just Add, Bind, and Negate you can:</strong>
    <ul>
      <li>Represent arbitrarily complex structures</li>
      <li>Query and retrieve components</li>
      <li>Compute similarity and analogy</li>
      <li>Build and search knowledge graphs</li>
      <li>Perform logical inference</li>
    </ul>
    <p>All while maintaining continuous, differentiable, noise-robust computations!</p>
  </div>

  <h2>Kernel Verbs in SpockDSL</h2>

  <table class="matrix-table">
    <tr>
      <th>Verb</th>
      <th>Parameters</th>
      <th>Returns</th>
      <th>Example</th>
    </tr>
    <tr>
      <td><code>Add</code></td>
      <td>vector, vector</td>
      <td>vector</td>
      <td><code>@sum A Add B</code></td>
    </tr>
    <tr>
      <td><code>Bind</code></td>
      <td>vector, vector</td>
      <td>vector</td>
      <td><code>@rel X Bind Y</code></td>
    </tr>
    <tr>
      <td><code>Negate</code></td>
      <td>vector, _</td>
      <td>vector</td>
      <td><code>@notA A Negate _</code></td>
    </tr>
    <tr>
      <td><code>Distance</code></td>
      <td>vector, vector</td>
      <td>scalar</td>
      <td><code>@sim A Distance B</code></td>
    </tr>
    <tr>
      <td><code>Move</code></td>
      <td>vector, vector</td>
      <td>vector</td>
      <td><code>@next state Move delta</code></td>
    </tr>
    <tr>
      <td><code>Modulate</code></td>
      <td>vector, scalar/vector</td>
      <td>vector</td>
      <td><code>@scaled v Modulate 0.5</code></td>
    </tr>
    <tr>
      <td><code>Normalise</code></td>
      <td>vector, _</td>
      <td>vector</td>
      <td><code>@unit v Normalise _</code></td>
    </tr>
    <tr>
      <td><code>Identity</code></td>
      <td>vector, _</td>
      <td>vector</td>
      <td><code>@copy v Identity _</code></td>
    </tr>
  </table>

  <div class="footer-nav">
    <p>
      <a href="truth-geometry.html">← The Geometry of Truth</a> ·
      <strong>Next:</strong> <a href="semantic-navigation.html">Semantic Gradient Descent →</a>
    </p>
  </div>
  </div>
</body>
</html>
